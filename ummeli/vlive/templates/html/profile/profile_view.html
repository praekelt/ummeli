{% extends "base.html" %}

{% block content %}
    <h4>
        {% if is_self %}
            {{other_user_profile.fullname}} <a href="{% url edit_personal %}">[edit]</a>&nbsp;
        {% else %}
            {{other_user_profile.fullname}}&nbsp;
        {% endif %}
            
        {% if not connected_to_user and not is_self %}
            {% if not already_requested %}
                {% if connection_requested %}
                    <a href="{% url confirm_request other_user_pk %}?next={{request.path}}">[+ accept]</a>
                    <a href="{% url reject_request other_user_pk %}?next={{request.path}}">[- reject]</a>
                {% else %}
                    <a href="{% url add_connection other_user_pk %}?next={{request.path}}">[+ connect]</a>
                {% endif %}
            {% else %}
                <small>[request pending]</small></a>
            {% endif %}
        {% endif %}
    </h4>
        
    <a href="{% url connections other_user_pk %}">Connections ({{num_connections}})</a></br/>
    {% if is_self %}
        <a href="{% url connection_requests %}">Requests ({{user_profile.connection_requests.count}})</a></br/>
    {% endif %}
    <br/>
    
    {% if connected_to_user or is_self %}
        {% include "profile/user_profile_detailed.html" with a_user_profile=other_user_profile user_is_self=is_self %}
    {% else %}
        {% include "profile/user_profile_basic.html" with a_user_profile=other_user_profile %}    
    {% endif %}
{% endblock %}
